---
const { title, description, image, articleDate } = Astro.props;
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const socialImageURL = new URL(image || '/default-og.png', Astro.site);
const siteName = "GTB 매거진";
---

<html lang="ko">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="generator" content={Astro.generator} />
		<link rel="canonical" href={canonicalURL} />
		<link rel="sitemap" href="/sitemap-index.xml" />

		<!-- Primary Meta Tags -->
		<title>{title}</title>
		<meta name="title" content={title} />
		<meta name="description" content={description || "해외 최신 트렌드와 IT, 건강 정보를 가장 빠르게 전달합니다."} />

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="article" />
		<meta property="og:url" content={canonicalURL} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description || "해외 최신 트렌드와 IT, 건강 정보를 가장 빠르게 전달합니다."} />
		<meta property="og:image" content={socialImageURL} />
		<meta property="og:site_name" content={siteName} />

		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content={canonicalURL} />
		<meta property="twitter:title" content={title} />
		<meta property="twitter:description" content={description || "해외 최신 트렌드와 IT, 건강 정보를 가장 빠르게 전달합니다."} />
		<meta property="twitter:image" content={socialImageURL} />

		<!-- JSON-LD 구조화 데이터 (검색엔진이 사랑하는 것) -->
		<script type="application/ld+json" set:html={JSON.stringify({
			"@context": "https://schema.org",
			"@type": "BlogPosting",
			"headline": title,
			"image": [socialImageURL],
			"datePublished": articleDate || new Date().toISOString(),
			"author": {
				"@type": "Person",
				"name": "GTB Editor"
			},
			"publisher": {
				"@type": "Organization",
				"name": siteName,
				"logo": {
					"@type": "ImageObject",
					"url": new URL('/favicon.svg', Astro.site)
				}
			}
		})} />

		<link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
		<style is:global>
			:root {
				--primary: #111827;
				--accent: #2563eb;
				--text-main: #1f2937;
				--text-sub: #6b7280;
				--bg-body: #ffffff;
			}
			body {
				font-family: 'Pretendard', sans-serif;
				background-color: var(--bg-body);
				color: var(--text-main);
				margin: 0;
				line-height: 1.6;
			}
			* { box-sizing: border-box; }
			a { text-decoration: none; color: inherit; }
			
			.container {
				max-width: 1000px;
				margin: 0 auto;
				padding: 0 1.5rem;
			}
			
			header {
				background: white;
				border-bottom: 1px solid #f3f4f6;
				padding: 1.5rem 0;
				position: relative; 
			}
			.header-inner {
				display: flex;
				justify-content: space-between;
				align-items: center;
			}
			.logo {
				font-size: 1.5rem;
				font-weight: 900;
				color: var(--primary);
				letter-spacing: -1px;
			}
			.nav-links a {
				margin-left: 2rem;
				font-weight: 600;
				color: var(--text-main);
				font-size: 0.95rem;
			}
			.nav-links a:hover { color: var(--accent); }

			footer {
				border-top: 1px solid #f3f4f6;
				padding: 4rem 0;
				margin-top: 5rem;
				text-align: center;
				color: var(--text-sub);
				font-size: 0.85rem;
			}
		</style>
	</head>
	<body>
		<header>
			<div class="container header-inner">
				<a href="/" class="logo">GTB 매거진</a>
				<nav class="nav-links">
					<a href="/">홈</a>
					<a href="/category/IT테크">IT·테크</a>
					<a href="/category/건강">건강</a>
					<a href="/category/라이프">라이프</a>
				</nav>
			</div>
		</header>
		<main>
			<slot />
		</main>
		<footer>
			<p>GTB 매거진 &copy; 2026. All rights reserved.</p>
		</footer>
	</body>
</html>